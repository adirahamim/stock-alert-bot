
# 📈 Stock Alert Bot – גרסה חכמה עם AI, Twitter ו-Google Trends

ברוך הבא לגרסה המתקדמת של בוט ההתראות שלך – שמשלב ניתוח טכני, המלצות אנליסטים, מגמות חיפוש, ניתוח רגשי, ושליחת התראות לטלגרם בצורה ברורה, חכמה ומובנת.

---

## 📦 קבצים מרכזיים בפרויקט

| קובץ | תיאור |
|------|--------|
| `main.py` | קובץ הריצה הראשי של הבוט |
| `settings.py` | מגדיר את המניות, הגבולות (low/high), והגדרות API |
| `core/fetcher.py` | מביא מחירים, אנליסטים, MACD, RSI, חדשות ועוד |
| `core/strategy.py` | קובע את האיתות והציון לפי הנתונים |
| `core/sentiment.py` | מחשב ציון סנטימנט מ-Twitter |
| `core/trends.py` | מזהה מגמות בגוגל טרנדס |
| `core/notifier.py` | שולח את ההתראה לטלגרם עם הסברים |
| `core/levels.py` | מציע עדכון אוטומטי ל-low/high |
| `runtime/` | כולל קבצי מצב שמורים (JSON/CSV) |

---

## 🚦 מה עושה הבוט?

הבוט סורק את רשימת המניות המוגדרת בקובץ `settings.py`, ומבצע עבור כל אחת:

1. בדיקת מחיר נוכחי (כולל pre-market)
2. חישוב RSI, MACD, EMA, נפח מסחר
3. הבאת המלצות אנליסטים מ-Finnhub
4. הבאת מגמות חיפוש ב-Google Trends
5. ניתוח רגשי מטוויטר
6. קביעת איתות (קנייה/מכירה/אין איתות)
7. שליחת הודעה לטלגרם עם **ציון מ-0 עד 6** + הסברים

---

## 📢 דוגמה להודעה בטלגרם

```
📌 NVDA – $129.00
⏰ 2025-07-29 15:45:12
RSI: 28.5
אנליסטים 🔍 – BUY: 11 | SELL: 0

📊 סיבות לאיתות:
• ✅ RSI נמוך – ייתכן oversold
• ✅ המלצת אנליסטים חזקה – 11 קנייה
• 🔥 מילות חיפוש בגוגל: nvda stock, ai chips
• 🐦 Twitter sentiment: חיובי

🔔 ציון: 5/6
📢 📊 נרשמו מספר תנאים חיוביים
```

---

## 💡 הסבר על הציון (score)

| קריטריון | ניקוד |
|----------|--------|
| המחיר מתחת ל-`low` | +2 |
| RSI < 30 | +1 |
| MACD חיובי | +1 |
| spike בנפח מסחר | +1 |
| המלצת אנליסטים חזקה | +1 |
| סנטימנט חיובי בטוויטר | +1 |
| מגמה בגוגל טרנדס | +1 |

**סה"כ עד 7 נקודות**, אך הבוט ישלח איתותים משמעותיים כבר מ־2–3 נקודות.

---

## 🛠 הרצה

1. התקן את הדרישות:
```
pip install -r requirements.txt
```

2. הגדר קובץ `.env` עם:
```
TELEGRAM_TOKEN=...
TELEGRAM_CHAT_IDS=123456,987654
FINNHUB_API_KEY=...
TWELVE_DATA_API_KEY=...
NEWS_API_KEY=...
```

3. הרץ את הבוט:
```
python main.py
```

4. לצפייה בדשבורד:
```
streamlit run dashboard.py
```

---

בהצלחה! לכל שאלה – פשוט תכתוב ✉️
